---
import Schema from "./Schema.astro";
import { useTranslations } from "../i18n/utils";
const { currentLocale } = Astro;
const lang = (currentLocale || "ja") as "ja" | "en" | "de";
const t = useTranslations(lang);

const siteUrl = "https://umeya.life";
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).href;
---

<title>{t("meta.title")}</title>
<meta name="description" content={t("meta.description")} />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<link rel="canonical" href={canonicalUrl} />

<link rel="alternate" hreflang="ja" href={`${siteUrl}/`} />
<link rel="alternate" hreflang="en" href={`${siteUrl}/en/`} />
<link rel="alternate" hreflang="de" href={`${siteUrl}/de/`} />
<link rel="alternate" hreflang="x-default" href={`${siteUrl}/`} />

<meta name="generator" content={Astro.generator} />

<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content={t("meta.appName")} />
<link rel="manifest" href="/site.webmanifest" />

<meta name="author" content="taketo-eng" />
<meta name="creator" content="taketo-eng" />

<meta property="og:title" content={t("meta.title")} />
<meta property="og:description" content={t("meta.description")} />
<meta property="og:url" content={canonicalUrl} />
<meta property="og:site_name" content="梅屋" />
<meta property="og:type" content="website" />
<meta
  property="og:locale"
  content={lang === "ja" ? "ja_JP" : lang === "en" ? "en_US" : "de_DE"}
/>
{lang !== "ja" && <meta property="og:locale:alternate" content="ja_JP" />}
{lang !== "en" && <meta property="og:locale:alternate" content="en_US" />}
{lang !== "de" && <meta property="og:locale:alternate" content="de_DE" />}

<meta property="og:image" content={`${siteUrl}/og.webp`} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="628" />
<meta property="og:image:alt" content={t("meta.title")} />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={t("meta.title")} />
<meta name="twitter:description" content={t("meta.description")} />
<meta name="twitter:image" content={`${siteUrl}/og.webp`} />
<meta name="twitter:image:alt" content={t("meta.title")} />

<meta
  name="robots"
  content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
/>

<Schema />

<!-- Google analytics -->
<script
  type="text/partytown"
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-HP9N2HWKYF"></script>
<script type="text/partytown">
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-HP9N2HWKYF");
</script>
